
SQL> set lines 200;
SQL> /

DESIGN_CODE  DEPT_CODE HIREDATE  STAFF_DOB
----------- ---------- --------- ---------
STAFF_ADDRESS
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  MGR_CODE  STAFF_SAL
---------- ----------
        102         50 15-AUG-90 16-AUG-80
noida
       301       5000

        102         20 15-JUL-90 16-SEP-00
delhi
       302      32000

        103         60 15-AUG-90 16-AUG-80
noida
       302       6000

        103         30 13-AUG-10 14-AUG-98
gurgram
      3033      32000

        101         10 31-JAN-15 21-FEB-98
karnal
       301      20000


SQL>  select count(*),hiredate from xyz group by to_char(hiredate,'yyyy');
 select count(*),hiredate from xyz group by to_char(hiredate,'yyyy')
                 *
ERROR at line 1:
ORA-00979: not a GROUP BY expression


SQL>  select count(*),to_char(hiredate,'yyyy') from xyz group by to_char(hiredate,'yyyy');

  COUNT(*) TO_C
---------- ----
         1 2010
         1 2015
         3 1990

SQL> select deptno , deptname from jemp where deptno i(select count(*) from jemp group by deptno).
  2  .
SQL> select substr(ename,1,2)||(ename,length(ename-3)) from jemp;
select substr(ename,1,2)||(ename,length(ename-3)) from jemp
                                *
ERROR at line 1:
ORA-00907: missing right parenthesis


SQL> select substr(ename,1,2)||substr(ename,length(ename-3)) from jemp;
select substr(ename,1,2)||substr(ename,length(ename-3)) from jemp
                                              *
ERROR at line 1:
ORA-01722: invalid number


SQL> select substr(ename,1,2)||substr(ename,length(ename)-3) from jemp;

SUBSTR(ENAME,1,2)||SUBSTR(ENAME,LENGTH(ENAME)-3)
--------------------------------------------------------------------------------------------------------------------------------
jaond1
annkur
bhhima
bobond
vikram
yayash
papal
jaond2
jaond3
jaond4
jaond5
jaond6
jaond7
jaond8
jaond9
jand10
annkur

17 rows selected.

SQL> select substr(ename,1,3)||substr(ename,length(ename)-2) from jemp;

SUBSTR(ENAME,1,3)||SUBSTR(ENAME,LENGTH(ENAME)-2)
------------------------------------------------------------------------------------------------------------------------------------
jamnd1
ankkur
bhiima
bonond
vikram
yasash
palpal
jamnd2
jamnd3
jamnd4
jamnd5
jamnd6
jamnd7
jamnd8
jamnd9
jamd10
ankkur

17 rows selected.

SQL> insert into xyz values (102,50,'16-aug-1990','16-aug-1990','noida',301,5000);

1 row created.

SQL> select * from xyz where hiredate = staff_dob;

DESIGN_CODE  DEPT_CODE HIREDATE  STAFF_DOB
----------- ---------- --------- ---------
STAFF_ADDRESS
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  MGR_CODE  STAFF_SAL
---------- ----------
        102         50 16-AUG-90 16-AUG-90
noida
       301       5000


SQL> select * from jemp where mgrno is null;

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      3001 jamesbond1
      3002 jamesbond2
      3003 jamesbond3
      3004 jamesbond4
      3005 jamesbond5
      3006 jamesbond6
      3007 jamesbond7
      3008 jamesbond8
      3009 jamesbond9
     30010 jamesbond10

10 rows selected.

SQL> select count(*) from jemp group by mgrno;

  COUNT(*)
----------
        10
         2
         4
         1

SQL> select mgrno from jemp where count(*)>1 group by mgrno;
select mgrno from jemp where count(*)>1 group by mgrno
                             *
ERROR at line 1:
ORA-00934: group function is not allowed here


SQL> select mgrno from jemp having count(*)>1 group by mgrno;

     MGRNO
----------

      1003
      1103

SQL> select mgrno from jemp having count(*)<1 group by mgrno;

no rows selected

SQL> select mgrno,deptno from jemp having count(*)<1 group by mgrno;
select mgrno,deptno from jemp having count(*)<1 group by mgrno
             *
ERROR at line 1:
ORA-00979: not a GROUP BY expression


SQL> select * from jemp;

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      3001 jamesbond1
      5000 ankur                                5000       1003         50
      1107 bhima                               34005       1102         30
      1108 bond                                24000       1103         40
      1109 vikram                              24000       1103         40
      4007 yash                                57785       1103         30
      4009 pal                                 86780       1103         40
      3002 jamesbond2
      3003 jamesbond3
      3004 jamesbond4
      3005 jamesbond5
      3006 jamesbond6
      3007 jamesbond7
      3008 jamesbond8
      3009 jamesbond9
     30010 jamesbond10
      5000 ankur                                5000       1003         50

17 rows selected.

SQL>  select count(*),to_char(hiredate,'yyyy') from xyz group by to_char(hiredate,'yyyy');

  COUNT(*) TO_C
---------- ----
         1 2010
         1 2015
         4 1990

SQL>
SQL> select * from jemp where esal=min(esal);
select * from jemp where esal=min(esal)
                              *
ERROR at line 1:
ORA-00934: group function is not allowed here


SQL> select * from jemp having esal min(esal);
select * from jemp having esal min(esal)
                               *
ERROR at line 1:
ORA-00920: invalid relational operator


SQL> select * from jemp having esal= min(esal);
select * from jemp having esal= min(esal)
                          *
ERROR at line 1:
ORA-00979: not a GROUP BY expression


SQL> select * from jemp where esal in ( select min(esal) from jemp);

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      5000 ankur                                5000       1003         50
      5000 ankur                                5000       1003         50

SQL> select * from jemp where esal = ( select min(esal) from jemp);

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      5000 ankur                                5000       1003         50
      5000 ankur                                5000       1003         50

SQL> select * from jemp where esal in ( select min(esal) from jemp group by deptno);

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      5000 ankur                                5000       1003         50
      1107 bhima                               34005       1102         30
      1108 bond                                24000       1103         40
      1109 vikram                              24000       1103         40
      5000 ankur                                5000       1003         50

SQL> select * from jemp where esal in ( select min(esal) from jemp group by deptno) order by deptno;

     EMPNO ENAME                                ESAL      MGRNO     DEPTNO
---------- ------------------------------ ---------- ---------- ----------
      1107 bhima                               34005       1102         30
      1109 vikram                              24000       1103         40
      1108 bond                                24000       1103         40
      5000 ankur                                5000       1003         50
      5000 ankur                                5000       1003         50

SQL> select * from xyz where to_char(hiredate,'yyyy')=1990;

DESIGN_CODE  DEPT_CODE HIREDATE  STAFF_DOB
----------- ---------- --------- ---------
STAFF_ADDRESS
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  MGR_CODE  STAFF_SAL
---------- ----------
        102         20 15-JUL-90 16-SEP-00
delhi
       302      32000

        102         50 15-AUG-90 16-AUG-80
noida
       301       5000

        103         60 15-AUG-90 16-AUG-80
noida
       302       6000

        102         50 16-AUG-90 16-AUG-90
noida
       301       5000


SQL>  select ename, esal from jemp a1 where &n = (select count(a1.esal) from jemp a2 where a2.esal>a1.esal;
Enter value for n: 2
old   1:  select ename, esal from jemp a1 where &n = (select count(a1.esal) from jemp a2 where a2.esal>a1.esal
new   1:  select ename, esal from jemp a1 where 2 = (select count(a1.esal) from jemp a2 where a2.esal>a1.esal
 select ename, esal from jemp a1 where 2 = (select count(a1.esal) from jemp a2 where a2.esal>a1.esal
                                            *
ERROR at line 1:
ORA-00921: unexpected end of SQL command


SQL>  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal;
Enter value for n: 3
old   1:  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal
new   1:  select ename, esal from jemp a1 where 3=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal
 select ename, esal from jemp a1 where 3=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal
                                          *
ERROR at line 1:
ORA-00921: unexpected end of SQL command


SQL>  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal);
Enter value for n: 3
old   1:  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal)
new   1:  select ename, esal from jemp a1 where 3=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal)

ENAME                                ESAL
------------------------------ ----------
bond                                24000
vikram                              24000

SQL>  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal);
Enter value for n: 1
old   1:  select ename, esal from jemp a1 where &n=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal)
new   1:  select ename, esal from jemp a1 where 1=(select count(a1.esal) from jemp a2 where a2.esal>a1.esal)

ENAME                                ESAL
------------------------------ ----------
yash                                57785

SQL> select distinct * into #tmp From EmpDup
  2         delete from EmpDup
  3         insert into EmpDup
  4         select * from #tmp drop table #tmp
  5
SQL>        select * from EmpDup
  2  .
SQL> select distinct * into #tmp From jemp
  2  delete from jemp
  3  insert into jemp
  4  select * from #tmp drop table #tmp
  5  select * from jemp
  6  ;
select distinct * into #tmp From jemp
                       *
ERROR at line 1:
ORA-00911: invalid character


SQL> delete from jemp where count(*)>1 group by empno;
delete from jemp where count(*)>1 group by empno
                       *
ERROR at line 1:
ORA-00934: group function is not allowed here


SQL> delete from jemp having count(*)>1 group by empno;
delete from jemp having count(*)>1 group by empno
                 *
ERROR at line 1:
ORA-00933: SQL command not properly ended


SQL> create or replace procedure pcg15 is
  2  begin
  3  for i in 0..11 loop
  4  dbms_output.put_line(to_char(sysdate+(i*30) , 'month')
  5  end loop;
  6  end;
  7  /

Warning: Procedure created with compilation errors.

SQL> show error
Errors for PROCEDURE PCG15:

LINE/COL ERROR
-------- -----------------------------------------------------------------
5/1      PLS-00103: Encountered the symbol "END" when expecting one of the
         following:
         . ( ) , * % & = - + < / > at in is mod remainder not rem =>
         <an exponent (**)> <> or != or ~= >= <= <> and or like like2
         like4 likec as between from using || multiset member
         submultiset

SQL> ed;
Wrote file afiedt.buf

  1  create or replace procedure pcg15 is
  2  begin
  3  for i in 0..11 loop
  4  dbms_output.put_line(to_char(sysdate+(i*30) , 'month');
  5  end loop;
  6* end;
SQL> /

Warning: Procedure created with compilation errors.

SQL> show error
Errors for PROCEDURE PCG15:

LINE/COL ERROR
-------- -----------------------------------------------------------------
4/55     PLS-00103: Encountered the symbol ";" when expecting one of the
         following:
         . ( ) , * % & = - + < / > at in is mod remainder not rem =>
         <an exponent (**)> <> or != or ~= >= <= <> and or like like2
         like4 likec as between from using || multiset member
         submultiset
         The symbol ")" was substituted for ";" to continue.

SQL> ed;
Wrote file afiedt.buf

  1  create or replace procedure pcg15 is
  2  begin
  3  for i in 0..11 loop
  4  dbms_output.put_line(to_char(sysdate+(i*30) , 'month'));
  5  end loop;
  6* end;
SQL> /

Procedure created.

SQL> exec pcg15
july
august
september
october
november
december
january
february
march
april
may
june

PL/SQL procedure successfully completed.

SQL> delete from jemp where empno in (select empno from jemp having count(*)>1);
delete from jemp where empno in (select empno from jemp having count(*)>1)
                                        *
ERROR at line 1:
ORA-00937: not a single-group group function


SQL> delete from jemp where empno in (select empno from jemp having count(*)>1);
delete from jemp where empno in (select empno from jemp having count(*)>1)
                                        *
ERROR at line 1:
ORA-00937: not a single-group group function


SQL> delete from jemp where empno in (select empno from jemp group by having count(*)>1);
delete from jemp where empno in (select empno from jemp group by having count(*)>1)
                                                                 *
ERROR at line 1:
ORA-00936: missing expression


SQL> delete from jemp where empno in (select empno from jemp group by empno having count(*)>1);

2 rows deleted.

SQL>
